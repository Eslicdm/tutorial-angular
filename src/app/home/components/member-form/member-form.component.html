<form class="add-member-form" [formGroup]="memberForm" (ngSubmit)="onSave()">
  <mat-form-field appearance="outline">
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" required>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Age</mat-label>
    <input matInput type="number" formControlName="age" required>
  </mat-form-field>

  <mat-form-field class="chip-list-field" appearance="outline" >
    <mat-label>Sons</mat-label>
    <mat-chip-grid #chipGrid aria-label="Enter son names">
      @for (sonControl of sons.controls; track $index) {
        <mat-chip-row (removed)="removeSon($index)">
          {{sonControl.value}}
          <button matChipRemove [attr.aria-label]="'remove ' + sonControl.value">
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip-row>
      }
      <input placeholder="New son..."
             [matChipInputFor]="chipGrid"
             [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
             [matChipInputAddOnBlur]="true"
             (matChipInputTokenEnd)="addSon($event)"/>
    </mat-chip-grid>
  </mat-form-field>

  <div class="form-actions">
    <button mat-stroked-button type="button" (click)="onCancel()">Cancel</button>
    <button matButton="filled" type="submit" [disabled]="!memberForm.valid">Save</button>
  </div>
</form>
